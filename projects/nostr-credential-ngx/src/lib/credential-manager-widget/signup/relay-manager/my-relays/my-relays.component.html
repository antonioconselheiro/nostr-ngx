<h2 class="title">Relay Manager</h2>
<h3 class="title">Relays are independent nostr servers.</h3>
<h3 class="title">Choose more than one relay makes you cool.</h3>

<form [formGroup]="myRelaysForm" id="generateNcryptsecForm" novalidate autocomplete="off">
  <!-- TODO: o usuário deve ser capaz de colar uma lista de relays -->
  <div class="floatingLabel">
    <select name="relaysFrom" formControlName="relaysFrom" id="myRelaysRelaysFrom" placeholder=" ">
      <option value="public">Publically</option>
      <option value="localStorage">In browser</option>
      <!-- TODO: analisar qual será o fluxo para quando esta opção é selecionada  -->
      <option value="signer">Signer Extension</option>
    </select>

    <label for="myRelaysRelaysFrom">Use relays from</label>
  </div>

  <p>Click connect to add relays.</p>

  <table>
    <tr>
      <td>wss://nos.lol (cache)</td>
      <td>o</td>
    </tr>
  </table>

  <div class="floatingLabel">
    <input type="text" name="newRelay" formControlName="newRelay" id="myRelaysNewRelay" placeholder=" " />
    <label for="myRelaysNewRelay">New relay</label>

    <button type="button" title="connect" class="bordered svgButton">
      <nostr-svg-render name="plugConnected"></nostr-svg-render>
    </button>
  </div>

  <div class="floatingLabel">
    <input type="text" name="newCacheRelay" formControlName="newCacheRelay" id="myRelaysNewCacheRelay" placeholder=" " />
    <label for="myRelaysNewCacheRelay">New cache relay</label>

    <button type="button" title="connect" class="bordered svgButton">
      <nostr-svg-render name="plugConnected"></nostr-svg-render>
    </button>
  </div>

</form>

<footer class="buttonGroup">
  <button (click)="changeStep.next('selectAccount')" type="button" title="back"
    class="actionButton button secondary iconedButton">
    <nostr-svg-render class="inlineIcon" name="left"></nostr-svg-render>

    <span>
      Cancel
    </span>
  </button>

  <button type="button" title="download"
    class="actionButton button secondary iconedButton">
    <nostr-svg-render class="inlineIcon" name="search"></nostr-svg-render>

    <span>
      Search Relays
    </span>
  </button>
  

  <!--
  TODO: se não houver nenhum relay configurado:
  deve haver um botão "Use default", como primary, ele deve preencher os
  relays com um conjunto de relays definidso como padrão para a aplicação.
  O botão "save" não deve ser exibido

  se houver relays configurados:
  o botão use default deve se tornar secondary e o botão para salvar deve estar como primary ao lado
  -->
  <button (click)="changeStep.next('registerAccount')" type="button" title="next"
    class="actionButton button iconedButton" form="generateNcryptsecForm">
    <nostr-svg-render class="inlineIcon" name="right"></nostr-svg-render>

    <span>
      Save
    </span>
  </button>
</footer>