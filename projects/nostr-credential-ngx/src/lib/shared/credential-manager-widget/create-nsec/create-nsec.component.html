<h2 class="title">Create account</h2>

<form [formGroup]="generateNsecForm" (submit)="onSubmit()" novalidate autocomplete="off">
  <ul>
    <li>
      nsec can't be changed.
    </li>
    <li>
      It gives complete access to account.
    </li>
    <li>
      If you lost it, your account will be lost forever.
    </li>
  </ul>

  <div [class.error]="submitted && getFormControlErrors('nsec')" class="floatingLabel">
    <input #nsec name="nsec" maxlength="64" formControlName="nsec" id="generateNsecField"
      readonly [attr.type]="showNsec ? 'text' : 'password'" placeholder=" " />
    <label for="generateNsecField">nsec</label>

    <button (click)="generateNsec()" type="button" tabindex="10" title="generate new nsec"
      class="bordered svgButton">
      <nostr-svg-render name="repeat"></nostr-svg-render>
    </button>

    <button type="button" tabindex="18" [attr.title]="showNsec ? 'hide nostr secret' : 'show nostr secret'"
      (click)="showNsec = !showNsec" class="bordered svgButton">
      <nostr-svg-render [name]="showNsec ? 'eyeOff' : 'eye'"></nostr-svg-render>
    </button>
  </div>



  <div class="buttonGroup">
    <button (click)="changeStep.next('selectAccount')" type="button" tabindex="3" title="back"
      class="actionButton button secondary iconedButton">
      <nostr-svg-render class="inlineIcon" name="left"></nostr-svg-render>

      <span>
        Back
      </span>
    </button>

    <button (click)="downloadQrcode()" type="button" tabindex="3" title="download"
      class="actionButton button iconedButton">
      <nostr-svg-render class="inlineIcon" name="download"></nostr-svg-render>

      <span>
        Download
      </span>
    </button>

    <button (click)="changeStep.next('relayManager')" type="submit" tabindex="3" title="next"
      class="actionButton button iconedButton" disabled>
      <nostr-svg-render class="inlineIcon" name="right"></nostr-svg-render>

      <span>
        Next
      </span>
    </button>
  </div>
</form>